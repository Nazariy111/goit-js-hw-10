{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\n\n\niziToast.settings({\n    timeout: 3000, // default timeout\n    resetOnHover: true,\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    position: 'topCenter', \n    color: '#EF4040',\n    messageColor: '#FFFFFF',\n    titleColor: '#FFFFFF',\n    iconColor: '#FFFFFF',\n    });\n\n\nconst startBtn = document.querySelector(\"button\");\nconst days = document.querySelector(\"[data-days]\");\nconst hours = document.querySelector(\"[data-hours]\");\nconst minutes = document.querySelector(\"[data-minutes]\");\nconst seconds = document.querySelector(\"[data-seconds]\");\n\nlet userSelectedDate;\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        userSelectedDate = selectedDates[0];\n\n        const nowDate = Date.now();\n\n        if (userSelectedDate <= nowDate) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n            });\n            startBtn.classList.remove(\"isActive\");\n            startBtn.removeEventListener(\"click\", timerFunction);\n        } else { \n            startBtn.classList.add(\"isActive\");\n            startBtn.addEventListener(\"click\", timerFunction);\n        };\n    },\n};\n\n\nflatpickr(\"#datetime-picker\", options);\n\n\nfunction timerFunction() {\n    startBtn.classList.remove(\"isActive\");\n\n    setInterval(() => {\n        const nowDate = Date.now();\n        const ms = userSelectedDate - nowDate;\n\n        if (ms >= 0) { \n            const timeObj = convertMs(ms);\n            if (timeObj.days < 10) { \n                days.textContent = addLeadingZero(timeObj.days);\n            } else {\n                days.textContent = timeObj.days;\n            };\n            hours.textContent = addLeadingZero(timeObj.hours);\n            minutes.textContent = addLeadingZero(timeObj.minutes);\n            seconds.textContent = addLeadingZero(timeObj.seconds);\n        };\n    }, 1000);\n};\n\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n\n    const hours = Math.floor((ms % day) / hour);\n\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n};\n\n\nfunction addLeadingZero(value) {\n    return value.toString().padStart(2, \"0\");\n};\n\n"],"names":["iziToast","startBtn","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","nowDate","timerFunction","flatpickr","ms","timeObj","convertMs","addLeadingZero","value"],"mappings":"+IAMAA,EAAS,SAAS,CACd,QAAS,IACT,aAAc,GACd,aAAc,UACd,cAAe,WACf,SAAU,YACV,MAAO,UACP,aAAc,UACd,WAAY,UACZ,UAAW,SACf,CAAK,EAGL,MAAMC,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,IAAIC,EAGJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,EAAE,EAC5BF,EAAmBE,EAAc,GAEjC,MAAMC,EAAU,KAAK,MAEjBH,GAAoBG,GACpBT,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACzB,CAAa,EACDC,EAAS,UAAU,OAAO,UAAU,EACpCA,EAAS,oBAAoB,QAASS,CAAa,IAEnDT,EAAS,UAAU,IAAI,UAAU,EACjCA,EAAS,iBAAiB,QAASS,CAAa,EAEvD,CACL,EAGAC,EAAU,mBAAoBJ,CAAO,EAGrC,SAASG,GAAgB,CACrBT,EAAS,UAAU,OAAO,UAAU,EAEpC,YAAY,IAAM,CACd,MAAMQ,EAAU,KAAK,MACfG,EAAKN,EAAmBG,EAE9B,GAAIG,GAAM,EAAG,CACT,MAAMC,EAAUC,EAAUF,CAAE,EACxBC,EAAQ,KAAO,GACfX,EAAK,YAAca,EAAeF,EAAQ,IAAI,EAE9CX,EAAK,YAAcW,EAAQ,KAE/BV,EAAM,YAAcY,EAAeF,EAAQ,KAAK,EAChDT,EAAQ,YAAcW,EAAeF,EAAQ,OAAO,EACpDR,EAAQ,YAAcU,EAAeF,EAAQ,OAAO,CAChE,CACK,EAAE,GAAI,CACX,CAGA,SAASC,EAAUF,EAAI,CAMnB,MAAMV,EAAO,KAAK,MAAMU,EAAK,KAAG,EAE1BT,EAAQ,KAAK,MAAOS,EAAK,MAAO,IAAI,EAEpCR,EAAU,KAAK,MAAQQ,EAAK,MAAO,KAAQ,GAAM,EAEjDP,EAAU,KAAK,MAASO,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAGA,SAASU,EAAeC,EAAO,CAC3B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CAC3C"}